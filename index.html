<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Factory Information Form</title>
    <meta name="description" content="Register your factory information for website integration and registration purposes">
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- Google Maps API - key injected by backend -->
    <script src="https://maps.googleapis.com/maps/api/js?key=__GOOGLE_MAPS_API_KEY__&libraries=places" defer></script>
</head>
<body>
    <div class="container">
        <div class="form-container">
            <div class="form-header">
                <div class="header-top">
                    <div class="flag" aria-label="Country Flag">
                        <img src="flag.png" alt="Flag" class="flag-img" />
                    </div>
                    <div class="logo" aria-label="Factory Registration Logo">
                        <img src="logo.png" alt="Logo" class="logo-img" />
                    </div>
                    <!-- Language Switcher -->
                    <div class="lang-switcher">
                        <select id="languageSelector" aria-label="Select language">
                            <option value="auto">üåê Auto</option>
                            <option value="en">üá∫üá∏ English</option>
                            <option value="ar">üá∏üá¶ ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</option>
                        </select>
                    </div>
                </div>
                <span class="logo-text" data-translate="header.logoText">Website Opening Form</span>
                <h1 data-translate="header.title">Factory Registration Form</h1>
                <p data-translate="header.subtitle">Please provide your factory details below for registration and integration purposes.</p>
            </div>

            <form id="factoryForm" class="factory-form" novalidate>
                <!-- First Section: Factory Information -->
                <div class="form-section">
                    <h3>
                        <i class="fas fa-industry" aria-hidden="true"></i>
                        <span data-translate="sections.factoryInfo.title">
                            Factory Information
                        </span>
                    </h3>
                    
                    <div class="form-group">
                        <label for="factoryName">
                            <span data-translate="sections.factoryInfo.factoryName.label">Factory Name</span> 
                            <span class="required" aria-label="required">*</span>
                        </label>
                        <input 
                            type="text" 
                            id="factoryName" 
                            name="factoryName" 
                            required 
                            aria-describedby="factoryName-error"
                            data-translate-placeholder="sections.factoryInfo.factoryName.placeholder"
                            placeholder="Enter factory name"
                            maxlength="100"
                        >
                        <div id="factoryName-error" class="error-message" role="alert" aria-live="polite"></div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="country">
                                    <span data-translate="sections.factoryInfo.country.label">Country</span>
                                 <span class="required" aria-label="required">*</span>
                            </label>
                            <select 
                                id="country" 
                                name="country" 
                                required 
                                aria-describedby="country-error">
                                <option value="" data-translate="sections.factoryInfo.country.placeholder">Select Country</option>
                                <option value="AE">United Arab Emirates</option>
                                <option value="SA">Saudi Arabia</option>
                                <option value="EG">Egypt</option>
                                <option value="IQ">Iraq</option>
                                <option value="JO">Jordan</option>
                                <option value="LB">Lebanon</option>
                                <option value="SY">Syria</option>
                                <option value="KW">Kuwait</option>
                                <option value="QA">Qatar</option>
                                <option value="BH">Bahrain</option>
                                <option value="OM">Oman</option>
                                <option value="YE">Yemen</option>
                                <option value="LY">Libya</option>
                                <option value="TN">Tunisia</option>
                                <option value="DZ">Algeria</option>
                                <option value="MA">Morocco</option>
                                <option value="SD">Sudan</option>
                                <option value="MR">Mauritania</option>
                                <option value="SO">Somalia</option>
                                <option value="DJ">Djibouti</option>
                                <option value="KM">Comoros</option>
                                <option value="PS">Palestine</option>

                                <option value="AL">Albania</option>
                                <option value="AD">Andorra</option>
                                <option value="AT">Austria</option>
                                <option value="BY">Belarus</option>
                                <option value="BE">Belgium</option>
                                <option value="BA">Bosnia and Herzegovina</option>
                                <option value="BG">Bulgaria</option>
                                <option value="HR">Croatia</option>
                                <option value="CY">Cyprus</option>
                                <option value="CZ">Czech Republic</option>
                                <option value="DK">Denmark</option>
                                <option value="EE">Estonia</option>
                                <option value="FI">Finland</option>
                                <option value="FR">France</option>
                                <option value="DE">Germany</option>
                                <option value="GR">Greece</option>
                                <option value="HU">Hungary</option>
                                <option value="IS">Iceland</option>
                                <option value="IE">Ireland</option>
                                <option value="IT">Italy</option>
                                <option value="LV">Latvia</option>
                                <option value="LI">Liechtenstein</option>
                                <option value="LT">Lithuania</option>
                                <option value="LU">Luxembourg</option>
                                <option value="MT">Malta</option>
                                <option value="MD">Moldova</option>
                                <option value="MC">Monaco</option>
                                <option value="ME">Montenegro</option>
                                <option value="NL">Netherlands</option>
                                <option value="MK">North Macedonia</option>
                                <option value="NO">Norway</option>
                                <option value="PL">Poland</option>
                                <option value="PT">Portugal</option>
                                <option value="RO">Romania</option>
                                <option value="RU">Russia</option>
                                <option value="SM">San Marino</option>
                                <option value="RS">Serbia</option>
                                <option value="SK">Slovakia</option>
                                <option value="SI">Slovenia</option>
                                <option value="ES">Spain</option>
                                <option value="SE">Sweden</option>
                                <option value="CH">Switzerland</option>
                                <option value="TR">Turkey</option>
                                <option value="UA">Ukraine</option>
                                <option value="GB">United Kingdom</option>
                                <option value="US">United States</option>
                                <!-- Extra countries -->
                                <option value="CN">China</option>
                                <option value="IN">India</option>

                            </select>
                            <div id="country-error" class="error-message" role="alert" aria-live="polite"></div>
                        </div>
                        <div class="form-group">
                            <label for="city">
                                <span data-translate="sections.factoryInfo.city.label">City</span>
                                <span class="required" aria-label="required">*</span>
                            </label>
                            <select 
                                id="city" 
                                name="city" 
                                required 
                                aria-describedby="city-error"
                                disabled
                            >
                                <option value="" data-translate="sections.factoryInfo.city.placeholder">Select Country First</option>
                            </select>
                            <div id="city-error" class="error-message" role="alert" aria-live="polite"></div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="detailedAddress">
                            <span data-translate="sections.factoryInfo.address.label">Detailed Address</span>
                            <span class="required" aria-label="required">*</span>
                        </label>
                        <div class="address-container">
                            <div class="map-section">
                                <div id="map" class="google-map" aria-label="Location map for address selection"></div>
                                <div class="map-controls">
                                    <button type="button" class="btn btn-secondary" id="getCurrentLocation">
                                        <i class="fas fa-location-arrow" aria-hidden="true"></i> 
                                        <span data-translate="sections.factoryInfo.address.currentLocation">Current Location</span>
                                    </button>
                                    <button type="button" class="btn btn-secondary" id="searchLocation">
                                        <i class="fas fa-search" aria-hidden="true"></i> 
                                        <span data-translate="sections.factoryInfo.address.searchLocation">Search Address</span>
                                    </button>
                                </div>
                            </div>
                            <div class="address-fields">
                                <textarea 
                                    id="detailedAddress" 
                                    name="detailedAddress" 
                                    rows="3" 
                                    data-translate-placeholder="sections.factoryInfo.address.placeholder"
                                    placeholder="Street address, building number, floor, etc." 
                                    required
                                    aria-describedby="detailedAddress-error"
                                    maxlength="500"
                                ></textarea>
                                <div id="detailedAddress-error" class="error-message" role="alert" aria-live="polite"></div>
                                <div class="coordinates-display">
                                    <div class="coordinate-field">
                                        <label for="latitude" data-translate="sections.factoryInfo.address.latitude">Latitude</label>
                                        <input type="text" id="latitude" name="latitude" readonly aria-label="Selected latitude coordinate">
                                    </div>
                                    <div class="coordinate-field">
                                        <label for="longitude" data-translate="sections.factoryInfo.address.longitude">Longitude</label>
                                        <input type="text" id="longitude" name="longitude" readonly aria-label="Selected longitude coordinate">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="landlinePhone">
                                <span data-translate="sections.factoryInfo.phone.label">Landline Phone</span>
                            </label>
                            <input 
                                type="tel" 
                                id="landlinePhone" 
                                name="landlinePhone" 
                                data-translate-placeholder="sections.factoryInfo.phone.placeholder"
                                placeholder="+1 (555) 123-4567"
                                aria-describedby="landlinePhone-error"
                                maxlength="20"
                            >
                            <div id="landlinePhone-error" class="error-message" role="alert" aria-live="polite"></div>
                        </div>
                        <div class="form-group">
                            <label for="factoryEmail">
                                <span data-translate="sections.factoryInfo.email.label">Email (for website integration)</span>
                                <span class="required" aria-label="required">*</span>
                            </label>
                            <input 
                                type="email" 
                                id="factoryEmail" 
                                name="factoryEmail" 
                                required
                                aria-describedby="factoryEmail-error"
                                data-translate-placeholder="sections.factoryInfo.email.placeholder"
                                placeholder="factory@example.com"
                                maxlength="100"
                            >
                            <div id="factoryEmail-error" class="error-message" role="alert" aria-live="polite"></div>
                        </div>
                    </div>
                </div>

                <!-- Second Section: Factory Owner Information -->
                <div class="form-section">
                    <h3 >
                        <i class="fas fa-user-tie" aria-hidden="true"></i>
                        <span data-translate="sections.ownerInfo.title">    
                            Factory Owner Information
                        </span>
                    </h3>
                    
                    <div id="ownersContainer">
                        <div class="owner-block" data-owner-index="1">
                            <div class="form-group">
                                <label for="ownerName_1">
                                    <span data-translate="sections.ownerInfo.ownerName.label">Owner Name</span>
                                    <span class="required" aria-label="required">*</span>
                                </label>
                                <input 
                                    type="text" 
                                    id="ownerName_1" 
                                    name="ownerName_1" 
                                    required
                                    aria-describedby="ownerName_1-error"
                                    data-translate-placeholder="sections.ownerInfo.ownerName.placeholder"
                                    placeholder="Enter owner name"
                                    maxlength="100"
                                >
                                <div id="ownerName_1-error" class="error-message" role="alert" aria-live="polite"></div>
                            </div>

                            <div class="form-group">
                                <label for="ownerMobile_1">
                                    <span data-translate="sections.ownerInfo.ownerPhone.label">
                                        Mobile Number
                                    </span>
                                    <span class="required" aria-label="required">*</span>
                                </label>
                                <input 
                                    type="tel" 
                                    id="ownerMobile_1" 
                                    name="ownerMobile_1" 
                                    required
                                    aria-describedby="ownerMobile_1-error"
                                    data-translate-placeholder="sections.ownerInfo.ownerPhone.placeholder"
                                    placeholder="+1 (555) 123-4567"
                                    maxlength="20"
                                >
                                <div id="ownerMobile_1-error" class="error-message" role="alert" aria-live="polite"></div>
                            </div>
                        </div>
                    </div>

                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" id="addOwnerBtn" aria-label="Add another factory owner">
                            <i class="fas fa-user-plus" aria-hidden="true"></i> 
                            <span data-translate="sections.ownerInfo.addOwner">
                                Add Owner
                            </span>
                        </button>
                    </div>
                </div>

                <!-- Third Section: Spare Parts Manager -->
                <div class="form-section">
                    <h3>
                        <i class="fas fa-tools" aria-hidden="true"></i> 
                        <span data-translate="sections.spareParts.title">
                            Spare Parts Manager
                        </span>
                    </h3>
                    
                    <div class="form-group">
                        <label for="sparePartsManagerName">
                                    <span data-translate="sections.spareParts.managerName.label">
                                Name
                            </span>
                            <span class="required" aria-label="required">*</span>
                        </label>
                        <input 
                            type="text" 
                            id="sparePartsManagerName" 
                            name="sparePartsManagerName" 
                            required
                            aria-describedby="sparePartsManagerName-error"
                            data-translate-placeholder="sections.spareParts.managerName.placeholder"
                            placeholder="Enter manager name"
                            maxlength="100"
                        >
                        <div id="sparePartsManagerName-error" class="error-message" role="alert" aria-live="polite"></div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="sparePartsManagerMobile">
                                <span data-translate="sections.spareParts.managerPhone.label">
                                    Mobile Number
                                </span>
                                <span class="required" aria-label="required">*</span>
                            </label>
                            <input 
                                type="tel" 
                                id="sparePartsManagerMobile" 
                                name="sparePartsManagerMobile" 
                                required
                                aria-describedby="sparePartsManagerMobile-error"
                                data-translate-placeholder="sections.spareParts.managerPhone.placeholder"
                                placeholder="+1 (555) 123-4567"
                                maxlength="20"
                            >
                            <div id="sparePartsManagerMobile-error" class="error-message" role="alert" aria-live="polite"></div>
                        </div>
                        <div class="form-group">
                            <label for="sparePartsManagerEmail">
                                <span data-translate="sections.spareParts.managerEmail.label">
                                    Email
                                </span>
                                <span class="required" aria-label="required">*</span>
                            </label>
                            <input 
                                type="email" 
                                id="sparePartsManagerEmail" 
                                name="sparePartsManagerEmail" 
                                required
                                aria-describedby="sparePartsManagerEmail-error"
                                data-translate-placeholder="sections.spareParts.managerEmail.placeholder"
                                placeholder="manager@example.com"
                                maxlength="100"
                            >
                            <div id="sparePartsManagerEmail-error" class="error-message" role="alert" aria-live="polite"></div>
                        </div>
                    </div>
                </div>

                <!-- Fourth Section: Industrial Activity -->
                <div class="form-section">
                    <h3>
                        <i class="fas fa-cogs" aria-hidden="true"></i>
                        <span data-translate="sections.productionInfo.title">
                            Industrial Activity
                        </span>
                        </h3>
                    
                    <div class="form-group">
                        <label for="industryField">
                            <span data-translate="sections.productionInfo.productType.label">
                                Industry Field
                            </span>
                            <span class="required" aria-label="required">*</span>
                        </label>
                        <select 
                            id="industryField" 
                            name="industryField" 
                            required
                            aria-describedby="industryField-error"
                        >
                            <option value="" data-translate="sections.productionInfo.productType.placeholder">Select Industry Field</option>
                            <option value="automotive">Automotive</option>
                            <option value="electronics">Electronics</option>
                            <option value="textiles">Textiles</option>
                            <option value="chemicals">Chemicals</option>
                            <option value="pharmaceuticals">Pharmaceuticals</option>
                            <option value="food_beverage">Food & Beverage</option>
                            <option value="machinery">Machinery & Equipment</option>
                            <option value="metals">Metals & Mining</option>
                            <option value="construction">Construction Materials</option>
                            <option value="aerospace">Aerospace & Defense</option>
                            <option value="energy">Energy & Utilities</option>
                            <option value="medical">Medical Devices</option>
                            <option value="plastics">Plastics & Rubber</option>
                            <option value="paper">Paper & Packaging</option>
                            <option value="other">Other</option>
                        </select>
                        <div id="industryField-error" class="error-message" role="alert" aria-live="polite"></div>
                    </div>

                    <div class="form-group">
                        <label>
                            <span data-translate="sections.productionInfo.productionCapacity.label">
                                Available Production Lines & Brands
                            </span>
                            <span class="required" aria-label="required">*</span>
                        </label>
                        <div id="productionLinesContainer">
                            <div class="production-line-block" data-line-index="1">
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="productionLine_1">
                                            <span data-translate="sections.productionInfo.productionLine.label">
                                                Production Line
                                            </span>
                                            <span class="required" aria-label="required">*</span>
                                        </label>
                                        <input 
                                            type="text" 
                                            id="productionLine_1" 
                                            name="productionLine_1" 
                                            placeholder="e.g., Assembly Line A, Manufacturing Unit 1" 
                                            required
                                            aria-describedby="productionLine_1-error"
                                            maxlength="100"
                                        >
                                        <div id="productionLine_1-error" class="error-message" role="alert" aria-live="polite"></div>
                                    </div>
                                    <div class="form-group">
                                        <label for="brandName_1">
                                            <span data-translate="sections.productionInfo.brandName.label">
                                                Brand Name
                                            </span>
                                            <span class="required" aria-label="required">*</span>
                                        </label>
                                        <input 
                                            type="text" 
                                            id="brandName_1" 
                                            name="brandName_1" 
                                            placeholder="e.g., Brand X, Company Y" 
                                            required
                                            aria-describedby="brandName_1-error"
                                            maxlength="100"
                                        >
                                        <div id="brandName_1-error" class="error-message" role="alert" aria-live="polite"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-actions">
                            <button type="button" class="btn btn-secondary" id="addProductionLineBtn" aria-label="Add another production line">
                                <i class="fas fa-plus" aria-hidden="true"></i> 
                                <span data-translate="sections.productionInfo.addProductionLine">
                                    Add Production Line
                                </span>
                            </button>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="manufacturingDate">
                            <span data-translate="sections.productionInfo.manufacturingDate.label">
                                Production Lines Manufacturing Date
                            </span>
                        </label>
                        <input 
                            type="date" 
                            id="manufacturingDate" 
                            name="manufacturingDate"
                            aria-describedby="manufacturingDate-error"
                        >
                        <div id="manufacturingDate-error" class="error-message" role="alert" aria-live="polite"></div>
                    </div>
                </div>

                <!-- Terms and Conditions -->
                <div class="form-section">
                    <h3>
                        <i class="fas fa-shield-alt" aria-hidden="true"></i>
                        <span data-translate="sections.terms.title">
                            Terms & Conditions
                        </span>
                    </h3>
                    
                    <div class="form-group">
                        <div class="terms-content">
                            <p data-translate="sections.terms.content">
                                The customer is deemed to have accepted the terms of the privacy policy and the terms of use of the company's website and undertakes to maintain the confidentiality of data and not to leak any of it to third parties under any circumstances during the period granted to him to browse the website's data, which is specified as one month from the date of his entry to the website. The company is committed to maintaining the confidentiality of customer data in accordance with the rules of electronic commerce, the European Data Protection Regulation, and the UNCITRAL rules.
                            </p>
                        </div>
                    </div>
                </div>

                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" onclick="resetForm()" aria-label="Reset all form fields">
                        <i class="fas fa-undo" aria-hidden="true"></i> 
                        <span data-translate="form.reset">Reset Form</span>
                    </button>
                    <button type="submit" class="btn btn-primary" aria-label="Submit factory information">
                        <i class="fas fa-paper-plane" aria-hidden="true"></i> 
                        <span data-translate="form.submit">Submit Factory Information</span>
                    </button>
                </div>
            </form>

            <div id="successMessage" class="success-message" role="alert" aria-live="polite">
                <div class="success-icon">
                    <i class="fas fa-check-circle" aria-hidden="true"></i>
                </div>
                <h3 data-translate="messages.success.title">Thank You!</h3>
                <p data-translate="messages.success.description">Your factory information has been submitted successfully. We'll review and get back to you soon!</p>
                <button class="btn btn-primary" onclick="showForm()" aria-label="Submit another factory registration">
                    <span data-translate="messages.success.submitAnother">Submit Another</span>
                </button>
            </div>
        </div>
    </div> 
    <script src="script.js"></script>
</body>
</html>
